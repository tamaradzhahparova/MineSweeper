(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{13:function(e,t,n){e.exports={settings:"Settings_settings__3U6ep",label:"Settings_label__3u48k",input:"Settings_input__V43A2",subTitle:"Settings_subTitle__1MDfl",nameInput:"Settings_nameInput__2sMZS",level:"Settings_level__3On0c",buttons:"Settings_buttons__NACsH"}},31:function(e,t,n){e.exports={main:"Timer_main__3_xrp",minutes:"Timer_minutes__38cje",timerTitle:"Timer_timerTitle__1Kajy"}},37:function(e,t,n){e.exports={listWrapper:"WinnersList_listWrapper__2gd2V",item:"WinnersList_item__urSiw"}},47:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),i=n.n(r),l=n(10),s=n.n(l),c=n(18),u=n(2),o=(n(47),n(12)),v=n(8),d=n(28),j=Object(d.b)({name:"settings",initialState:{level:null,name:"",winners:[]},reducers:{setLevel:function(e,t){e.level=t.payload},setName:function(e,t){e.name=t.payload},setWinner:function(e,t){e.winners=[].concat(Object(v.a)(e.winners),[t.payload])}}}),b=j.actions,m=b.setLevel,f=b.setName,O=b.setWinner,h=j.reducer,p=n(13),g=n.n(p),x=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.settings.name})),n=Object(o.c)((function(e){return e.settings.level})),r=Object(u.m)();return Object(a.jsxs)("div",{className:g.a.settings,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:g.a.subTitle,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f"}),Object(a.jsx)("input",{className:g.a.nameInput,value:t,onChange:function(t){return function(t){e(f(t))}(t.currentTarget.value)}})]}),Object(a.jsxs)("div",{className:g.a.level,children:[Object(a.jsx)("h1",{className:g.a.subTitle,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438\u0433\u0440\u044b"}),[{value:"easy",text:"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 8x8, 10 \u043c\u0438\u043d"},{value:"medium",text:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 16x16, 40 \u043c\u0438\u043d"},{value:"hard",text:"\u0421\u043b\u043e\u0436\u043d\u044b\u0439 32x16, 100 \u043c\u0438\u043d"}].map((function(t){return Object(a.jsxs)("label",{className:g.a.label,children:[Object(a.jsx)("input",{className:g.a.input,value:t.value,name:"settings",type:"radio",onChange:function(t){return function(t){switch(t){case"easy":e(m([8,8,5,10]));break;case"medium":e(m([16,16,20,40]));break;case"hard":e(m([32,16,50,100]))}}(t.target.value)}}),Object(a.jsx)("span",{className:g.a.span,children:t.text})]},t.value)}))]}),Object(a.jsxs)("div",{className:g.a.buttons,children:[Object(a.jsx)("button",{onClick:function(){return r("winners")},children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043b\u0438\u0434\u0435\u0440\u043e\u0432"}),Object(a.jsx)("button",{onClick:function(){return t||n?t?n?r("/game"):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c!")},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})]})]})},_=n(4);function S(e,t,n){for(var a=[],r=[],i=0;i<e;i++){for(var l=[],s=0;s<t;s++)l.push({value:0,revealed:!1,x:i,y:s,flagged:!1});a.push(l)}for(var c=0;c<n;){var u=T(0,e-1),o=T(0,t-1);0===a[u][o].value&&(a[u][o].value="X",r.push([u,o]),c++)}for(var v=0;v<e;v++)for(var d=0;d<t;d++)"X"!==a[v][d].value&&(v>0&&"X"===a[v-1][d].value&&a[v][d].value++,v>0&&d<t-1&&"X"===a[v-1][d+1].value&&a[v][d].value++,d<t-1&&"X"===a[v][d+1].value&&a[v][d].value++,v<e-1&&d<t-1&&"X"===a[v+1][d+1].value&&a[v][d].value++,v<e-1&&"X"===a[v+1][d].value&&a[v][d].value++,v<e-1&&d>0&&"X"===a[v+1][d-1].value&&a[v][d].value++,d>0&&"X"===a[v][d-1].value&&a[v][d].value++,v>0&&d>0&&"X"===a[v-1][d-1].value&&a[v][d].value++);return{board:a,mineLocation:r}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Math.floor(Math.random()*(t-e+1)+e)}var y=n(30),N=n.p+"static/media/boop.f1badfea.mp3",k=n.p+"static/media/plunger.abe7efa2.mp3",C=n.p+"static/media/bite.aea7caff.mp3",w=[8,8,12];function W(e){var t=e.details,n=e.updateFlag,r=e.revealcell,i=e.level,l=Object(y.a)(k,{volume:5.6}),s=Object(_.a)(l,1)[0],c=Object(y.a)(N,{volume:10.5}),u=Object(_.a)(c,1)[0],o=Object(y.a)(C,{volume:10.5}),v=Object(_.a)(o,1)[0],d={cellStyle:{width:8===i[0]?40:25,height:8===i[0]?40:25,backgroundColor:t.revealed&&0!==t.value?"X"===t.value?"red":" #00226d":t.revealed&&0===t.value?"#00226f":"#000",opacity:"0.8",border:i===w?"3px solid white":"1px solid white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"20px",cursor:"pointer",color:"cyan",fontWeight:"1000"}};return Object(a.jsx)("div",{style:d.cellStyle,onClick:function(){"X"===t.value?u():s(),r(t.x,t.y)},onContextMenu:function(e){n(e,t.x,t.y),v()},children:!t.revealed&&t.flagged?"\ud83d\udea9":t.revealed&&0!==t.value?"X"===t.value?"\ud83d\udca3":t.value:""})}var X=n(32),I=(n(55),n(31)),E=n.n(I),H=function(e){var t=e.duration,n=e.isTimerWorking,r=e.setIsTimerWorking,i=e.setResetTimer,l=e.resetTimer,s=e.lostHandle,c=e.setCurrentTime;return Object(a.jsxs)("div",{className:E.a.main,children:[Object(a.jsx)("p",{className:E.a.timerTitle,children:"\u0422\u0430\u0439\u043c\u0435\u0440: "}),Object(a.jsx)("div",{className:E.a.minutes,children:Object(a.jsx)(J,{setCurrentTime:c,lostHandle:s,minutes:t,isTimerWorking:n,resetTimer:l,handleStart:function(e){r(e),e&&i(!1)}})})]})},J=function(e){var t=e.minutes,n=void 0===t?0:t,l=e.seconds,s=void 0===l?0:l,c=e.isTimerWorking,u=e.resetTimer,o=e.handleStart,v=e.lostHandle,d=e.setCurrentTime,j=Object(r.useState)(!1),b=Object(_.a)(j,2),m=b[0],f=b[1],O=Object(r.useState)([n,s]),h=Object(_.a)(O,2),p=Object(_.a)(h[0],2),g=p[0],x=p[1],S=h[1];Object(r.useEffect)((function(){S([n,s])}),[n]);return i.a.useEffect((function(){var e=setInterval((function(){c&&!m&&(0===g&&0===x?(f(!0),v("timeIsOut")):S(0===x?[g-1,59]:[g,x-1]))}),1e3);return function(){return clearInterval(e)}})),Object(r.useEffect)((function(){u&&(S([n,s]),f(!1),o(!1))}),[n,u,s,o]),Object(r.useEffect)((function(){d([g,x])}),[g,x]),Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:"".concat(g.toString().padStart(2,"0"),":").concat(x.toString().padStart(2,"0"))})})};var L=function(){var e=Object(o.c)((function(e){return e.settings.level})),t=Object(o.c)((function(e){return e.settings.name})),n=Object(u.m)(),i=Object(o.b)(),l=Object(r.useState)([]),s=Object(_.a)(l,2),c=s[0],d=s[1],j=Object(r.useState)(null===e||void 0===e?void 0:e[2]),b=Object(_.a)(j,2),m=b[0],f=b[1],h=Object(r.useState)([]),p=Object(_.a)(h,2),g=p[0],x=p[1],T=Object(r.useState)(!1),y=Object(_.a)(T,2),N=y[0],k=y[1],C=Object(r.useState)(!1),w=Object(_.a)(C,2),I=w[0],E=w[1],J=Object(r.useState)(),L=Object(_.a)(J,2),M=L[0],A=L[1];Object(r.useEffect)((function(){if(!t||!e)return n("/");D()}),[]);var B={display:"flex",flexDirection:"row",width:"fit-content",color:"white"},D=function(){var t=S.apply(void 0,Object(v.a)(null===e||void 0===e?void 0:e.slice(0,-1)));x(t.mineLocation),d(t.board),E(!1),f(e[2])},F=function(e,t,n){e.preventDefault();var a=JSON.parse(JSON.stringify(c));"X"===a[t][n].value&&!1===a[t][n].flagged&&f((function(e){return--e})),a[t][n].flagged=!0,d(a)},P=function(){D(),E(!0)},R=function(){var n;X.b.success("Wohoo!!,You won",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout(P,500),E(!0),i(O({name:t,time:M})),localStorage.setItem(t,(n=M,60*e[3]-(60*n[0]+n[1])))};Object(r.useEffect)((function(){0===m&&R()}),[m]);var V=function(e){X.b.dark("timeIsOut"===e?"Time Is Out ,Try Again":" Clicked on Mine ,Try Again",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(!0),setTimeout(P,500)},z=function(e,t){N||(k(!0),E(!1));var n=JSON.parse(JSON.stringify(c));if("X"===n[e][t].value){V();for(var a=0;a<g.length;a++)n[g[a][0]][g[a][1]].revealed=!0;d(n)}if(0===m)R();else{var r=function(e,t,n){var a=[];for(a.push(e[t][n]);0!==a.length;){var r=a.pop(),i=r.x,l=r.y;if(r.revealed||(r.revealed=!0),0!==r.value)break;i>0&&l>0&&0===e[i-1][l-1].value&&!e[i-1][l-1].revealed&&a.push(e[i-1][l-1]),i<e.length-1&&l<e[0].length-1&&0===e[i+1][l+1].value&&!e[i+1][l+1].revealed&&a.push(e[i+1][l+1]),i>0&&l<e[0].length-1&&0===e[i-1][l+1].value&&!e[i-1][l+1].revealed&&a.push(e[i-1][l+1]),i<e.length-1&&l>0&&0===e[i+1][l-1].value&&!e[i+1][l-1].revealed&&a.push(e[i+1][l-1]),i>0&&0===e[i-1][l].value&&!e[i-1][l].revealed&&a.push(e[i-1][l]),l<e[0].length-1&&0===e[i][l+1].value&&!e[i][l+1].revealed&&a.push(e[i][l+1]),i<e.length-1&&0===e[i+1][l].value&&!e[i+1][l].revealed&&a.push(e[i+1][l]),l>0&&0===e[i][l-1].value&&!e[i][l-1].revealed&&a.push(e[i][l-1]),i>0&&l>0&&!e[i-1][l-1].revealed&&(e[i-1][l-1].revealed=!0),l>0&&!e[i][l-1].revealed&&(e[i][l-1].revealed=!0),i<e.length-1&&l>0&&!e[i+1][l-1].revealed&&(e[i+1][l-1].revealed=!0),i>0&&!e[i-1][l].revealed&&(e[i-1][l].revealed=!0),i<e.length-1&&!e[i+1][l].revealed&&(e[i+1][l].revealed=!0),i>0&&l<e[0].length-1&&!e[i-1][l+1].revealed&&(e[i-1][l+1].revealed=!0),l<e[0].length-1&&!e[i][l+1].revealed&&(e[i][l+1].revealed=!0),i<e.length-1&&l<e[0].length-1&&!e[i+1][l+1].revealed&&(e[i+1][l+1].revealed=!0)}return{arr:e}}(n,e,t);d(r.arr)}};return Object(a.jsxs)("div",{className:"parent",children:[Object(a.jsxs)("div",{className:"board",children:[Object(a.jsxs)("h3",{className:"counter",children:["\u041c\u0438\u043d \u043d\u0435 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043e - ",m]}),Object(a.jsx)(X.a,{}),c.map((function(t,n){return Object(a.jsx)("div",{style:B,children:t.map((function(t,n){return Object(a.jsx)(W,{details:t,updateFlag:F,revealcell:z,level:e},n)}))},n)})),Object(a.jsx)(H,{duration:null===e||void 0===e?void 0:e[3],isTimerWorking:N,setIsTimerWorking:k,setResetTimer:E,resetTimer:I,lostHandle:V,setCurrentTime:A})]}),Object(a.jsx)("button",{className:"button",onClick:P,children:"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),Object(a.jsx)("button",{className:"button",onClick:function(){return n("/")},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c"})]})},M=n(37),A=n.n(M),B=function(){var e=Object(r.useState)([]),t=Object(_.a)(e,2),n=t[0],i=t[1],l=Object(u.m)();return Object(r.useEffect)((function(){var e=[];for(var t in localStorage)localStorage.hasOwnProperty(t)&&e.push({name:t,time:localStorage.getItem(t)});i(e.sort((function(e,t){return e.time-t.time})))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return l("/")},children:"\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"}),Object(a.jsx)("ul",{className:A.a.listWrapper,children:n.length>0?n.map((function(e,t){return Object(a.jsxs)("li",{className:A.a.item,children:[Object(a.jsxs)("span",{children:[t+1,"."]}),"".concat(e.name," ").concat(e.time,"sec")]})})):Object(a.jsx)("div",{children:"\u0423 \u043d\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 :)"})}),";"]})};var D=function(){return Object(a.jsx)(c.a,{children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"",element:Object(a.jsx)(x,{})}),Object(a.jsx)(u.a,{path:"game",element:Object(a.jsx)(L,{})}),Object(a.jsx)(u.a,{path:"winners",element:Object(a.jsx)(B,{})})]})})},F=Object(d.a)({reducer:{settings:h}});s.a.render(Object(a.jsx)(o.a,{store:F,children:Object(a.jsx)(D,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.f16065eb.chunk.js.map